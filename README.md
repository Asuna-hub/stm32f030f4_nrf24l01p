### üìã –û–ø–∏—Å–∞–Ω–∏–µ 
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è NRF24L01+ –ø–æ–¥ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã STM32 –¥–ª—è CMSIS. –í —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ –Ω–µ –±—É–¥—É—Ç –æ–ø–∏—Å–∞–Ω—ã —Ä–µ–≥–∏—Å—Ç—Ä—ã NRF24L01+ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –µ–≥–æ –∫–æ–º–∞–Ω–¥, —Ç–∞–∫ –∫–∞–∫ –¥–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è. –¢–∞–∫–∂–µ –Ω–µ –±—É–¥–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π SPI –∏ DMA, —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –Ω–∞–∏—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–æ–≤, –æ–Ω–∏ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è —É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤. –í –¥–∞–Ω–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä –¥–ª—è STM32F0430F4P6, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–µ–≥–æ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏. 

–í –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–º —Ñ–∞–π–ª–µ nrf24.h –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –º–∞—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –∏ –±–∏—Ç–æ–≤ nrf24, –æ–±—ä—è–≤–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ–º–∞–Ω–¥—ã –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—â–∏. –¢–∞–∫–∂–µ —Ç–∞–º –µ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞—é—Ç –æ—Ç–ª–∞–¥–∫—É –¥–∞—Ç—á–∏–∫–∞. 

### –§—É–Ω–∫—Ü–∏–∏
–§—É–Ω–∫—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º DMA –∏ –±–µ–∑ –Ω–µ–≥–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∑–∞–¥–∞—á–∏ 

## NRF24_Read_Reg(uint8_t rg), NRF24_Read_Reg_DMA(uint8_t rg)
–ß–∏—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞.

## NRF24_Write_Reg(uint8_t rg, uint8_t dt), NRF24_Write_Reg_DMA(uint8_t rg, uint8_t dt)
–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Ä–µ–≥–∏—Å—Ç—Ä —Å –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é –í–°–ï–ì–û —Ä–µ–≥–∏—Å—Ç—Ä–∞.

## NRF24_Write_Bit(uint8_t rg, uint8_t bit, BitAction value), NRF24_Write_Bit_DMA(uint8_t rg, uint8_t bit, BitAction value)
–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –û–î–ò–ù –±–∏—Ç –≤ —Ä–µ–≥—Å–∏—Ç—Ä –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –≤—Å–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞.

## NRF24_Write_Reg_Multiple(uint8_t reg, uint8_t *data, uint8_t data_size), NRF24_Write_Reg_Multiple_DMA(uint8_t reg, uint8_t *data, uint8_t data_size)
–ê–Ω–∞–ª–æ–≥–∏—á–µ–Ω NRF24_Write_Reg, –Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–≥–∏—Å—Ç—Ä —Ä–∞–∑–º–µ—Ä–æ–º –±–æ–ª—å—à–µ 1 –±–∞–π—Ç–∞ (–∞–¥—Ä–µ—Å).

## NRF24_Write_Payload(uint8_t *data, uint8_t data_size), NRF24_Write_Payload_DMA(uint8_t *data, uint8_t data_size)
–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–≥–∏—Å—Ç—Ä TX payload.

## NRF24_Clear_Status(void), NRF24_Clear_Status_DMA(void)
–û—á–∏—â–∞–µ—Ç –±–∏—Ç—ã —Å—Ç–∞—Ç—É—Å–∞ –≤ —Ä–µ–≥–∏—Å—Ä–µ STATUS.

## NRF24_FLUSH_RX(void), NRF24_FLUSH_TX(void); NRF24_FLUSH_RX_DMA(void), NRF24_FLUSH_TX_DMA(void)
–û—á–∏—â–∞—é—Ç RX –∏ TX –±—É—Ñ—Ñ–µ—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

## NRF24_Set_rx_addr(uint8_t *addr, uint8_t num_pipe), NRF24_Set_rx_addr_DMA(uint8_t *addr, uint8_t num_pipe)
–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å–∞ –ø—Ä–∏—ë–º–Ω–∏–∫–æ–≤ (–ø–æ–¥—Ä–æ–±–Ω–µ–π –ø—Ä–æ –∞–¥—Ä–µ—Å–∞ —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ –û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ NRF24LO1+).

## NRF24_Set_tx_addr(uint8_t *addr), NRF24_Set_tx_addr_DMA(uint8_t *addr), 
–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å–∞ –ø–µ—Ä–µ–¥–∞—Ç—á–∏–∫–∞ (–ø–æ–¥—Ä–æ–±–Ω–µ–π –ø—Ä–æ –∞–¥—Ä–µ—Å–∞ —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ –û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ NRF24LO1+).

## NRF24_Read_RX(uint8_t *data, uint8_t data_size), NRF24_Read_RX_DMA(uint8_t *data, uint8_t data_size)
–°—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –¥–∞–Ω–Ω—ã–µ –∏–∑ RX payload

## NRF24_RX_PAYLOAD_LENGHT(void), NRF24_RX_PAYLOAD_LENGHT_DMA(void)
–°—á–∏—Ç—ã–≤–∞–µ—Ç –¥–ª–∏–Ω—É –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã–π –∏–∑ RX payload (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å DPL)

## NRF24_Read_RX_DPL(uint8_t *data), NRF24_Read_RX_DMA_DPL(uint8_t *data)
–°—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –¥–∞–Ω–Ω—ã–µ –∏–∑ RX payload c DPL

#–ü—Ä–∏–º–µ—Ä:
void SPI1_Init(void){
	RCC->APB2ENR |= RCC_APB2ENR_SPI1EN; //SPI clocking
	
	SPI1->CR1 = 0; //SPI clocking
	SPI1->CR1 |= SPI_CR1_BR_1; // 48000000 / 8 = 6 MHz
	SPI1->CR1 &= ~(SPI_CR1_BIDIMODE | SPI_CR1_RXONLY | SPI_CR1_BIDIOE); //2-line unidirectional data mode, full duplex
	SPI1->CR1 &= ~(SPI_CR1_CPOL | SPI_CR1_CPHA); //[0,0] mode (CPOL - 0, CPHA - 0)
	SPI1->CR1 &= ~SPI_CR1_LSBFIRST; //MSB first
	SPI1->CR1 |= SPI_CR1_SSM | SPI_CR1_SSI; //Software slave management enable
	SPI1->CR1 |= SPI_CR1_MSTR; //Master configuration
	
	SPI1->CR2 = 0; //reset all CR2 registers
	SPI1->CR2 |= SPI_CR2_DS_0 | SPI_CR2_DS_1 | SPI_CR2_DS_2; // 8 bit 
	SPI1->CR2 |= SPI_CR2_FRXTH; 
	
	SPI1->CR1 |= SPI_CR1_SPE; //SPI enable
}
//–§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞—á–∏
uint8_t SPI_transfer_data(uint8_t dt) {
	while (!(SPI1->SR & SPI_SR_TXE));
	*(__IO uint8_t*)&SPI1->DR = dt;
	while (!(SPI1->SR & SPI_SR_RXNE));
	return (*(__IO uint8_t*)&SPI1->DR);
}

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DMA
